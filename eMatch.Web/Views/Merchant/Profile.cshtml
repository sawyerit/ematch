@using eMatch.Web.Models

<style type="text/css">
    .tandc-div {
        overflow: scroll;
        max-height: 300px;
    }
</style>

<h2>My Profile</h2>
<br />
<div class="tab-disappear">
    <ul class="nav nav-tabs">
        <li class="active"><a href="">My Account</a></li>
        <li><a href="~/Merchant/Campaign">Campaign Manager</a></li>
        <li><a href="~/Merchant/Contact">Contact Manager</a></li>
        <li><a href="~/Merchant/Dashboard">Dashboard</a></li>
        <li><a href="~/Merchant/Virtual">Virtual Office</a></li>
    </ul>
</div>
<div class="nav-disappear">
    <ul class="nav navbar-nav">
        <li class="dropdown">
            <a href="#" class="dropdown-toggle" data-toggle="dropdown"><i class="fa fa-list"></i> Navigation</a>
            <ul class="dropdown-menu">
                <li class="active"><a href="">My Account</a></li>
                <li><a href="~/Merchant/Campaign">Campaign Manager</a></li>
                <li><a href="~/Merchant/Contact">Contact Manager</a></li>
                <li><a href="~/Merchant/Dashboard">Dashboard</a></li>
                <li><a href="~/Merchant/Virtual">Virtual Office</a></li>
            </ul>
        </li>
    </ul>
</div>
<br />

<div class="panel panel-default">
    <div class="panel-body">
        <span class="glyphicon glyphicon-info-sign"></span>&nbsp; Complete your account information to get all the benefits that eMatch has to offer your business!
    </div>
</div>
<br />

<div class="row">
    <div class="col-md-6">
        <h4>Account Details</h4>
        <hr />
        <form class="form" role="form" method="post" action="~/Merchant/UpdateProfile">
            <input type="text" class="form-control" name="businessname" placeholder="Business Name" autofocus value="@Model.Profile.BusinessName">
            <input type="text" class="form-control" name="websiteurl" placeholder="Website" value="@Model.Profile.WebsiteURL">
            <br />
            <input type="text" class="form-control" name="firstname" placeholder="First Name" value="@Model.User.FirstName">
            <input type="text" class="form-control" name="lastname" placeholder="Last Name" value="@Model.User.LastName">
            <input type="email" class="form-control" name="email" placeholder="Email address*" required value="@Model.User.Email">
            <input type="tel" class="form-control" name="phone" placeholder="Phone Number" value="@Model.User.Phone">
            <input type="text" class="form-control" name="address" placeholder="Address" value="@Model.User.Address">
            <input type="text" class="form-control" name="city" placeholder="City*" required value="@Model.User.City">
            <input type="text" class="form-control" name="state" placeholder="State*" required value="@Model.User.State">
            <input type="number" class="form-control" name="zip" placeholder="Zip*" required value="@Model.User.Zip">
            <br />
            <input type="password" class="form-control" id="password" name="password" placeholder="Password*" oninput="check(document.getElementById('confpass'))" value="@Model.User.Password">
            <input type="password" class="form-control" id="confpass" name="confpass" oninput="check(this)" value="@Model.User.Password" placeholder="Confirm Password*">
            <br />
            <button class="btn btn-lg btn-primary btn-block" type="submit">Update Account</button>
        </form>
    </div>
    <div class="col-md-6">
        <h4>Payment Info</h4>
        <hr />

        <div class="row">
            <div class="col-xs-9 small">
                There are currently no payment types for your account.
            </div>
            <div class="col-xs-3 small">
                None.
            </div>
        </div>
        <br />
        <div class="row">
            <div class="col-xs-12 pull-right"><a href="#">Add Payment Type</a></div>
        </div>
    </div>
</div>


    <!-- T&C modal -->
<div class="modal fade" id="tandcModal" tabindex="-1" role="dialog" aria-labelledby="tandcModalLabel" aria-hidden="true" data-backdrop="static">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="tandcModalLabel"><a>Terms & Conditions</a></h4>
            </div>
            <div class="modal-body">
                <form class="form-accept" role="form" action="/Merchant/Accept" method="post">
                    <div class="tandc-div">

                        <h3>eMatch Terms & Conditions ("Agreement")</h3>
                        <p>This Agreement was last modified on April 14, 2014.</p>

                        <p>Please read these Terms and Conditions ("Agreement", "Terms and Conditions") carefully before using http://fakesite.com ("the Site") operated by FakeCompany ("us", "we", or "our"). This Agreement sets forth the legally binding terms and conditions for your use of the Site at http://fakesite.com.</p>
                        <p>By accessing or using the Site in any manner, including, but not limited to, visiting or browsing the Site or contributing content or other materials to the Site, you agree to be bound by these Terms and Conditions. Capitalized terms are defined in this Agreement.</p>

                        <p><strong>Intellectual Property</strong><br />The Site and its original content, features and functionality are owned by FakeCompany and are protected by international copyright, trademark, patent, trade secret and other intellectual property or proprietary rights laws.</p>

                        <p><strong>Termination</strong><br />We may terminate your access to the Site, without cause or notice, which may result in the forfeiture and destruction of all information associated with you. All provisions of this Agreement that by their nature should survive termination shall survive termination, including, without limitation, ownership provisions, warranty disclaimers, indemnity, and limitations of liability.</p>

                        <p><strong>Links To Other Sites</strong><br />Our Site may contain links to third-party sites that are not owned or controlled by FakeCompany.</p>
                        <p>FakeCompany has no control over, and assumes no responsibility for, the content, privacy policies, or practices of any third party sites or services. We strongly advise you to read the terms and conditions and privacy policy of any third-party site that you visit.</p>

                        <p><strong>Governing Law</strong><br />This Agreement (and any further rules, polices, or guidelines incorporated by reference) shall be governed and construed in accordance with the laws of Nevada, United States, without giving effect to any principles of conflicts of law.</p>

                        <p><strong>Changes To This Agreement</strong><br />We reserve the right, at our sole discretion, to modify or replace these Terms and Conditions by posting the updated terms on the Site. Your continued use of the Site after any such changes constitutes your acceptance of the new Terms and Conditions.</p>
                        <p>Please review this Agreement periodically for changes. If you do not agree to any of this Agreement or any changes to this Agreement, do not use, access or continue to access the Site or discontinue any use of the Site immediately.</p>

                        <p><strong>Contact Us</strong><br />If you have any questions about this Agreement, please contact us.</p>
                                                

                    </div>
                    <br />
                    <p>By clicking the button below you are agreeing to the eMatch Terms and Conditions.</p>
                    <button class="btn btn-lg btn-primary btn-block" type="submit">I Agree</button>
                    <div class="center-block"><a href="@Url.Action("LogoutUser", "Home")">I disagree and would like to leave</a></div>
                </form>
            </div>
        </div>
    </div>
</div>

<!-- notification modal -->
<div class="modal modal-quick fade" id="updateModal" tabindex="-1" role="dialog" aria-labelledby="updateModalLabel" aria-hidden="true" data-backdrop="static">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-body">
                <div id="updateModalText"></div>
            </div>
        </div>
    </div>
</div>

<script type="text/javascript">

    $(function () {
        if("@Model.User.TCAgreed.ToString().ToLower()" != "true"){
            $('#tandcModal').modal('show');
        }

        if ("@ViewBag.WasUpdated" == "True") {
            $('#updateModalText').html('<i class="glyphicon glyphicon-check"></i> &nbsp;Thank you! Your profile was successfully updated.');
            $('#updateModal').modal('show');

            window.setTimeout(hide_modal, 2000);
        }
    });

    function hide_modal() { $('#updateModal').modal('hide'); }


    function check(input) {
        if (input.value != document.getElementById('password').value) {
            input.setCustomValidity('The two passwords must match.');
        } else {
            // input is valid -- reset the error message
            input.setCustomValidity('');
        }
    }
</script>